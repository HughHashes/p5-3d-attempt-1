<!DOCTYPE HTML>
<html>

<head>
    <meta charset="UTF-8">
    <script language="javascript" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/0.5.6/p5.min.js"></script>
    <script language="javascript" type="text/javascript" src="../libraries/p5.dimensions.js"></script>
</head>

<body>
    <script>
        var myCube;
        var cameraControls = {
            x: 0,
            y: 0,
            z: 0,
            rX: 0,
            rY: 0,
            rZ: 0,
            fov: 60
        };

        function setup() {
            createCanvas(500, 500, WEBGL);
            myCube = createCube(100);
            for (var i = 0; i < myCube.vertices.length; i++) {
                myCube.vertices[i] = perspectiveProjectionMatrix(myCube.vertices[i]);
            }
            ambientMaterial(250);
        }

        function draw() {
            // setUpCamera();
            orbitControl();
            background(255);
            myCube.edges.forEach(function(edge) {
                vertices = this.vertices;
                beginShape();
                vertex(vertices[edge[0]].x, vertices[edge[0]].y, vertices[edge[0]].z);
                vertex(vertices[edge[1]].x, vertices[edge[1]].y, vertices[edge[1]].z);
                endShape();
            }, myCube);
        }



        function createCube(size) {
            var shape = {
                vertices: [],
                edges: [],
                faces: []
            };
            var x, y, z, a;
            for (x = 0; x <= 1; x++) {
                for (y = 0; y <= 1; y++) {
                    for (z = 0; z <= 1; z++) {
                        for (a = 0; a <= 1; a++) {
                            shape.vertices.push(nVector((x - 0.5) * size, (y - 0.5) * size, (z - 0.5) * size, a + 1));
                        }
                        a--;
                        shape.edges.push([((x * 8) + (y * 4) + (z * 2) + a) - 1, ((x * 8) + (y * 4) + (z * 2) + a) - 0]);
                    }
                    z--;
                    shape.edges.push([((x * 8) + (y * 4) + (z * 2) + a) - 3, ((x * 8) + (y * 4) + (z * 2) + a) - 1]);
                    shape.edges.push([((x * 8) + (y * 4) + (z * 2) + a) - 2, ((x * 8) + (y * 4) + (z * 2) + a) - 0]);

                }
                y--;
                shape.edges.push([((x * 8) + (y * 4) + (z * 2) + a) - 7, ((x * 8) + (y * 4) + (z * 2) + a) - 3]);
                shape.edges.push([((x * 8) + (y * 4) + (z * 2) + a) - 6, ((x * 8) + (y * 4) + (z * 2) + a) - 2]);
                shape.edges.push([((x * 8) + (y * 4) + (z * 2) + a) - 5, ((x * 8) + (y * 4) + (z * 2) + a) - 1]);
                shape.edges.push([((x * 8) + (y * 4) + (z * 2) + a) - 4, ((x * 8) + (y * 4) + (z * 2) + a) - 0]);

            }
            x--;
            shape.edges.push([((x * 8) + (y * 4) + (z * 2) + a) - 15, ((x * 8) + (y * 4) + (z * 2) + a) - 7]);
            shape.edges.push([((x * 8) + (y * 4) + (z * 2) + a) - 14, ((x * 8) + (y * 4) + (z * 2) + a) - 6]);
            shape.edges.push([((x * 8) + (y * 4) + (z * 2) + a) - 13, ((x * 8) + (y * 4) + (z * 2) + a) - 5]);
            shape.edges.push([((x * 8) + (y * 4) + (z * 2) + a) - 12, ((x * 8) + (y * 4) + (z * 2) + a) - 4]);
            shape.edges.push([((x * 8) + (y * 4) + (z * 2) + a) - 11, ((x * 8) + (y * 4) + (z * 2) + a) - 3]);
            shape.edges.push([((x * 8) + (y * 4) + (z * 2) + a) - 10, ((x * 8) + (y * 4) + (z * 2) + a) - 2]);
            shape.edges.push([((x * 8) + (y * 4) + (z * 2) + a) - 9, ((x * 8) + (y * 4) + (z * 2) + a) - 1]);
            shape.edges.push([((x * 8) + (y * 4) + (z * 2) + a) - 8, ((x * 8) + (y * 4) + (z * 2) + a) - 0]);

            return shape;
        };
    </script>
</body>

</html>